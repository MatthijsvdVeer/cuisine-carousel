@page "/"
@using CuisineCarousel.Models

<PageTitle>Home</PageTitle>

<MudContainer Class="mt-16 px-8" MaxWidth="MaxWidth.False">
  <MudGrid>
    @foreach (var dish in dishes)
    {
      <MudItem xs="12" sm="6" md="4">
        <MudPaper Elevation="2" Class="pa-4" Style="height: 200px;">
          <MudText Typo="Typo.h6">@dish.Recipe.Title</MudText>
          <MudText Typo="Typo.body2">@dish.Recipe.Description</MudText>
        </MudPaper>
      </MudItem>
    }
  </MudGrid>
</MudContainer>

@code{

  [Inject] IDish DishService { get; set; } = null!;

  private IEnumerable<Dish> dishes = Array.Empty<Dish>();

  // get all dishes from the database
  protected override async Task OnInitializedAsync()
  {
    dishes = await DishService.GetAllAsync();
  }

}
